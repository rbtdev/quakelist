(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(25)},21:function(e,t,a){},22:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(12),o=a.n(n),u=(a(21),a(22),a(23),a(7)),i=a.n(u),l=a(15),h=a(13),c=a(1),g=a(2),m=a(3),d=a(6),f=a(4),p=a(5),k=a(8),v=a.n(k),q=function(e){function t(){var e,a;Object(g.a)(this,t);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.data,t="red";e.properties.mag<3?t="green":e.properties.mag>=3&&e.properties.mag<5?t="blue":e.properties.mag>=5&&e.properties.mag<7&&(t="orange");var a,s={padding:"6px",marginTop:"3px",marginBottom:"3px",borderRadius:"3px",backgroundColor:e._isNew?"lightgreen":"white",border:"1px solid gray"},n={position:"relative",width:"15%",bottom:"10px",display:"inline-block",color:t,textAlign:"center"};return r.a.createElement("div",{style:s},r.a.createElement("div",{style:n},(a=e.properties.mag,parseFloat(a).toFixed(1).padStart(2,"0"))),r.a.createElement("div",{style:{fontSize:"smaller",display:"inline-block",width:"90%"}},r.a.createElement("div",{style:{}},e.properties.place),r.a.createElement("div",{style:{}},v()(e.properties.time).format("MMM DD YYYY HH:mm:ss.SSS")," (",v()(e.properties.time).fromNow(),")")))}}]),t}(s.Component),y=a(14),w=a.n(y),j=6e4,b=[{title:"Last Hour: Significant Earthquakes",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_hour.geojson"},{title:"Last Hour: >= Mag 4.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_hour.geojson"},{title:"Last Hour: >= Mag 2.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_hour.geojson"},{title:"Last Hour: >= 1.0",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/1.0_hour.geojson"},{title:"Last Hour: All",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_hour.geojson"},{title:"Last Day: Significant Earthquakes",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_day.geojson"},{title:"Last Day: >= Mag 4.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_day.geojson"},{title:"Last Day: >= Mag 2.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_day.geojson"},{title:"Last Day: >= 1.0",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/1.0_day.geojson"},{title:"Last Day: All",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.geojson"},{title:"Last Week: Significant Earthquakes",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_week.geojson"},{title:"Last Week: >= Mag 4.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_week.geojson"},{title:"Last Week: >= Mag 2.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson"},{title:"Last Week: >= 1.0",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/1.0_week.geojson"},{title:"Last Week: All",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_week.geojson"},{title:"Last Month: Significant Earthquakes",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson"},{title:"Last Month: >= Mag 4.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_month.geojson"},{title:"Last Month: >= Mag 2.5",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_month.geojson"},{title:"Last Month: >= 1.0",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/1.0_month.geojson"},{title:"Last Month: All",url:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson"}],E=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={isOpen:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,a=t.quakes,s=t.newCount;return r.a.createElement("div",{style:{textAlign:"left",marginTop:"20px"}},r.a.createElement("div",null,a.length," Earthquake",1!==a.length?"s":""," ",s?"(".concat(s," new)"):""),a.length&&e?r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"left",width:"100%",whiteSpace:"nowrap",overflow:"hidden"}},a.map(function(e){return r.a.createElement(q,{data:e})}))):null)}}]),t}(s.Component),L=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).fetchQuakes=Object(h.a)(i.a.mark(function e(){var t,s,r,n,o,u,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.currentFeed,e.next=3,fetch(b[t].url);case 3:return s=e.sent,e.next=6,s.json();case 6:r=e.sent,n=r.features,o=[],u=[],a.state.firstLoad||((o=Object(l.a)(a.state.earthquakes)).forEach(function(e){e._isNew=!1}),(u=w.a.differenceBy(r.features,o,"id")).forEach(function(e){n.find(function(t){return e.id===t.id})._isNew=!0})),n.sort(function(e,t){return t.properties.time-e.properties.time}),clearInterval(a.countdownTimer),clearTimeout(a.fetchTimer),h=j/1e3,t>16?h=-1:(a.fetchTimer=setTimeout(a.fetchQuakes,j),a.countdownTimer=setInterval(function(){a.setState({countDown:a.state.countDown-1})},1e3)),a.setState({firstLoad:!1,countDown:h,feedInfo:r.metadata,newQuakeCount:u.length,earthquakes:n});case 17:case"end":return e.stop()}},e)})),a.changeFeed=a.changeFeed.bind(Object(c.a)(a)),a.fetchQuakes=a.fetchQuakes.bind(Object(c.a)(a)),a.state={firstLoad:!0,earthquakes:[],newQuakeCount:0,feedInfo:null,testQuakes:[],countDown:j/1e3,currentFeed:7},a.earthquakes=[],a.fetchTimer=null,a.countdownTimer=null,a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"changeFeed",value:function(e){var t=e.target.value;this.setState({currentFeed:t,firstLoad:!0})}},{key:"render",value:function(){var e=this;return this.state.firstLoad&&this.fetchQuakes(),r.a.createElement("div",{style:{textAlign:"left",margin:"10px",width:"100%"}},r.a.createElement("div",null,r.a.createElement("select",{id:"feed-select",value:this.state.currentFeed,onChange:this.changeFeed},b.map(function(e,t){return r.a.createElement("option",{value:t},e.title)}))),r.a.createElement("div",{style:{fontSize:"larger"}},this.state.feedInfo&&this.state.feedInfo.title),r.a.createElement("div",null,e.state.countDown>=0?r.a.createElement("span",null,"Checking USGS in ",e.state.countDown," seconds"):r.a.createElement("span",null,"Auto refresh disabled for this feed"),r.a.createElement("span",null,r.a.createElement("button",{onClick:this.fetchQuakes},"Refresh"))),r.a.createElement(E,{quakes:this.state.earthquakes,newCount:this.state.newQuakeCount}))}}]),t}(s.Component);var _=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.6d4cda48.chunk.js.map