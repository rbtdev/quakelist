(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(24)},20:function(e,t,n){},21:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),i=n.n(o),s=(n(20),n(21),n(22),n(6)),c=n.n(s),u=n(14),l=n(7),p=n(1),d=n(2),f=n(4),h=n(3),m=n(5),v=n(8),g=n.n(v),w=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.data,t="red";e.properties.mag<3?t="green":e.properties.mag>=3&&e.properties.mag<5?t="blue":e.properties.mag>=5&&e.properties.mag<7&&(t="orange");var n={padding:"6px",marginTop:"3px",marginBottom:"3px",borderRadius:"3px",backgroundColor:e._isNew?"lightgreen":"white",border:"1px solid gray"},a={position:"relative",width:"15%",bottom:"10px",display:"inline-block",color:t,textAlign:"center"};return r.a.createElement("div",{style:n},r.a.createElement("div",{style:a},e.properties.mag),r.a.createElement("div",{style:{fontSize:"smaller",display:"inline-block",width:"90%"}},r.a.createElement("div",{style:{}},e.properties.place),r.a.createElement("div",{style:{}},g()(e.properties.time).format("MMM DD YYYY HH:mm:ss.SSS")," (about ",g()(e.properties.time).fromNow(),")")))}}]),t}(a.Component),k=n(13),b=n.n(k),y=6e4,O={HOUR_ALL:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_hour.geojson",DAY_2_5:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_day.geojson"},j=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={isOpen:!0},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,n=t.quakes,a=t.newCount;t.onClear;return r.a.createElement("div",{style:{textAlign:"left",marginTop:"20px"}},r.a.createElement("div",null,n.length," Earthquake",1!==n.length?"s":""," ",a?"(".concat(a," new)"):""),n.length&&e?r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"left",width:"450px",whiteSpace:"nowrap",overflow:"hidden"}},n.map(function(e){return r.a.createElement(w,{data:e})}))):null)}}]),t}(a.Component),E=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={firstLoad:!0,earthquakes:[],newQuakeCount:0,feedInfo:null,testQuakes:[],countDown:y/1e3},n.earthquakes=[],n.fetchQuakes=Object(l.a)(c.a.mark(function e(){var t,a,r,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O.HOUR_ALL);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.features,o=[],i=[],n.state.firstLoad||((o=Object(u.a)(n.state.earthquakes)).forEach(function(e){e._isNew=!1}),(i=b.a.differenceBy(a.features,o,"id")).forEach(function(e){r.find(function(t){return e.id===t.id})._isNew=!0}),r.sort(function(e,t){return t.properties.time-e.properties.time})),n.setState({firstLoad:!1,countDown:y/1e3,feedInfo:a.metadata,newQuakeCount:i.length,earthquakes:r});case 11:case"end":return e.stop()}},e)})),n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchQuakes(),setInterval(this.fetchQuakes,y),setInterval(function(){t.setState({countDown:t.state.countDown-1})},1e3);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"left",marginLeft:"40px",width:"600px"}},r.a.createElement("div",{style:{fontSize:"larger"}},this.state.feedInfo&&this.state.feedInfo.title),r.a.createElement("div",null,"Checking USGS in ",this.state.countDown," seconds"),r.a.createElement(j,{quakes:this.state.earthquakes,newCount:this.state.newQuakeCount}))}}]),t}(a.Component);var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.b3865e59.chunk.js.map